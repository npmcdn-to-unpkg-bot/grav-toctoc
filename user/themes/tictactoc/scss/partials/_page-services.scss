/*---------------------------------------------------------------------------*\
    LIST PAGE: Services
\*---------------------------------------------------------------------------*/

    
.page-services {
  background: $color-warmsand2;
  background: $color-greywalls2;
  
  
  .main {
    padding-top: 0;
  }

  .footer {
    border-top: 12px solid $color-warmsand1;
    border-top: 12px solid $color-greywalls0;
  }

  .block--services {
    z-index: 1; 
    padding: 0 !important;
    margin: 0 auto;
    width: 100%;
    max-width: 100%;
    height: 100%;
    // background: linear-gradient(to top, $color-warmsand3, $color-warmsand2 40%);
    // background: linear-gradient(to top, $color-warmsand2, #FFE6A8 40%);
    background: none;

    @media only screen and (min-width: 800px) {
      display: table;
      height: calc(100vh - 188px);
    }

    @media only screen and (min-width:1200px) {
      &:after {
        opacity: 1;
        left: auto;
        right: 0;
        background-size: 420px; // yeah!
        background-position: right -28px bottom -42px;
      }
    }
  }

  .cell__img {
    position: relative;
    bottom: 0;
    

    img {
      position: relative;
      display: inline-block;
      width: 100%;
      height: 70vh;
      max-height: 320px;
      object-fit: cover;
      margin: 0 0 -102px;
      
      @media only screen and (min-width: 600px) { max-height: 360px; }
      @media only screen and (min-width: 900px) { max-height: 400px; }
      @media only screen and (min-width: 1200px) { max-height: 450px; }
    }
  }

  .cell--service {
    padding: 0 0 36px;
    
    &:first-of-type:after {
      // @include dotted-border('right', 10, 'D7CAAD');
      border: none;
      width: 12px;
      right: -6px;
      background: $color-greywalls2;
    }

    @media only screen and (max-width:800px) {    
      &:first-of-type:after {
        display: none;
      }
    }

    @media only screen and (min-width:1150px) {    
      &:first-of-type:after {
        width: 24px;
        right: -12px;
      }
    }

    @media only screen and (min-width:800px) {
      padding: 0 0 48px;
      
      /* hover effect for cell--service image */
      .cell__img {
        overflow: hidden;
        /* this mask fixes the overflow:hidden in Chrome */
        -webkit-mask-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYGBgAAgwAAAEAAGbA+oJAAAAAElFTkSuQmCC);
        
        background-size: 100%; // only for IE
        -webkit-transition:background-position .4s ease-out;  
        -moz-transition:background-position .4s ease-out;  
        -ms-transition:background-position .4s ease-out;  
        transition:background-position .4s ease-out; 
        
        img {
          /* Force Hardware Acceleration in WebKit */
          -webkit-transform: translateZ(0);
          -webkit-backface-visibility: hidden;
            
          margin-bottom: 0;
          transition: all .4s ease-out;
          transform: scale(1.0);
          transform-origin: 50% 100%;
        }
      }
      
      &:hover .cell__img {
        background-size: 110% !important; // only for IE
        
        img {
          transform: scale(1.1);
          transform-origin: 50% 100%;  /* pan towards bottom of image */
        }
      }
    }
  }

  .headline--service {
    text-shadow: 0 4px 12px rgba(0,0,0,1);
    margin: -60px 0 0 0;
    padding: 18px 0 18px 30px;
    
    &:after {
      content: "";
      position: absolute;
      z-index: -1;
      top: 0;
      left: 0;
      // height: 100%;
      height: 160px;
      width: 100%;
      // background: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75) 50%);
      // background: linear-gradient(180deg, rgba(46, 34, 34, 0) 40%, #2E2222 80%);
      // background: #2E2222;
      // background: linear-gradient(to right, rgba(46,34,34,.9) 50%, rgba(45,33,33,0));
      // background: rgba(61, 49, 50, 0.85);
      background: rgba(0, 0, 0, 0.7);
      transition: opacity 0.2s ease-in-out;
      opacity: 1;
    }

    @media only screen and (min-width:800px) {
      margin-top: -160px;
    }

    @media only screen and (min-width:1150px) {
      max-width: 500px;
      left: calc((100% - 600px) + 30px );
      
      &:after {
        width: 50vw;
        width: calc(100% + 70px);
        // left: calc(((50vw - 600px) + 30px) * -1);
      }
    }
  }

  .cell--service:hover .headline--service:after {
    opacity: .75;
  }

  .card.item__summary {
    float: none; 
    z-index: 3;
    background-color: #fff;
    padding: 18px;
    margin: 0 24px 18px;
    width: auto !important;
  }

  .card:hover:before {
    display: none;
  }

  h3 {
    color: #fff;
    font-size: 24px;
    line-height: 30px;
    padding: 18px;
    margin: -18px -18px 18px;
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
  }

  @media only screen and (min-width:1150px) {

    .card.item__summary  {
      max-width: 500px;
      left: calc((100% - 600px) + 30px );
    }

    .cell--service:last-of-type .headline--service,
    .cell--service:last-of-type .card.item__summary {
      left: 23px;
    }

    .cell--service:last-of-type .headline--service:after {
      left: -23px;
    }
  }
}