//	#########################################################################
// Images
// ######################################################################### */
//
// Fluid Images thx to Ethan Markotte: http://www.alistapart.com/articles/fluid-images/
// Vertical Centering & Cropping w/ Javascript, thanks to solemone: 
// http://demo.solemone.de/overflow-image-with-vertical-centering-for-responsive-web-design/

.left	{
  float: left;
}

.right	{
  float: right;
}

.pic	{
  display: block;
  overflow: hidden;

  .page-body &	{
    max-height: 600px;
  }

  img	{
    display: block;
    max-width: 100%;
  }


  &.half	{
    display: table-cell;
  }
  &.half img {
    margin-bottom: 24px; 
    width: 100%;	// necessary for firefox
  }


  &.left	{
    width: 100%;
    
    @media only screen and (min-width: $break-phone-landscape) {
      max-width:55%;
      padding-right: 24px;
    }
    @media only screen and (min-width: $break-tablet-regular) {
      max-width:48%;
      padding-right: 30px;
    }
    
  }
  &.right	{
    width: 100%;
    
    @media only screen and (min-width: $break-phone-landscape) {
      max-width:55%;
      padding-left: 24px;
    }
    @media only screen and (min-width: $break-tablet-regular) {
      max-width:48%;
      padding-left: 30px;
    }
  }
  &.left img, 
  &.right img {
    max-height:500px;
    margin-bottom: 30px;
    
    @media only screen and (min-width: $break-phone-landscape) {
      margin-top: 6px; //- only relevant when img placed next to a <p>
      margin-bottom: 18px;
    }
  } 
  

  .page-sidebar & img {
    max-height:200px;
    margin-bottom: 24px;
  }
  
  .page-sidebar &.left  {
    max-width:45%;
    padding-right: 24px;
  }
  
  .page-sidebar &.right  {
    max-width:45%;
    padding-left: 24px;
  }

  &.full	{
    width: 100%;
  }

  &.full img	{
    margin-bottom:24px;
  }

  &.wide  {
    width:100%;
    max-height:300px; 
    margin-bottom:24px;
  }
  &.wide img	{
    margin-top: -8%;
  }

  &.centersquare  {
    margin-bottom:24px;
    max-width:300px;
    max-height:300px;
    margin-left:auto;
    margin-right:auto;
  }
  &.centersquare img  {
    max-height:300px;
  }

  &.cropped	{
    margin-bottom:24px;
    max-height:400px;
  }
  &.cropped img  {
    margin-top:-10%;
  }
}

.pic.half+.pic.half:after  {	// DOESNT WORK in IE 6-7
  clear:both;
}


//	=========================================================================
// Blurbpic (only on .productpage)
// =========================================================================

.blurbpic-wrapper	{
  position: relative;
  height: 100%;
  width:	100%;
  max-height: 400px;
  margin:	18px 0 0;
  text-align:	center;
  overflow: visible;

  @media only screen and (min-width: $break-tablet-small) {
    float: right;
    width: 34.9%;
    max-height: 310px;
    max-width: 280px;
  }

  a {
    display: inline-block;
    vertical-align: middle;
  }

  img	{
    display: inline-block;
    vertical-align: middle;
    max-width:100%;
    max-height: 280px;

    @media only screen and (min-width: $break-phone-landscape) {
      max-height: 400px;
    }
    @media only screen and (min-width: $break-tablet-small) {
      max-width: 100%;
      max-height: 310px;
    }
  }
}


//	=========================================================================
// Displaying loupe-icon instead of regular mouse cursor
// =========================================================================

.popup  {
  cursor: -moz-zoom-in;
  cursor: -webkit-zoom-in;
  cursor: zoom-in;
  
  &:focus  {
    outline:0;
    border:0;
  }
}


//	=========================================================================
// Prevent responsive images from displaying when JS is disabled. 
// Showing <noscript>-images instead.
// =========================================================================

.no-js img.moodpic,
.no-js img.blurbpic,
.no-js img.lazypic {
  display: none
}


//	=========================================================================
// Make responsive images not visible until loaded & give some height prior to loading
// =========================================================================

img.lazypic {
  visibility: hidden;
  min-height: 100px;
}


//	=========================================================================
// Animated loading spinner
// =========================================================================

/* relocated to separate include
.loading  {
  background: inline-image("ui/loading.svg");
  background-position: center center;
  background-repeat: no-repeat;
  background-size:64px 64px;
  opacity: 0.7; // same as prev-/next-buttons in magnific
}
*/

/*
a.loading {

  width: 96px !important;
  height: 88px !important;
  margin: 0 auto;
  background-color: #666;

  border-radius: 18px;  
  -webkit-animation: scale-out 1.0s infinite ease-in-out;
  animation: scale-out 1.0s infinite ease-in-out;
}

@-webkit-keyframes scale-out {
  0%    { -webkit-transform: scale(0.0); }
  100%  { -webkit-transform: scale(.5);
    opacity: 0;
  }
}

@keyframes scale-out {
  0%    { transform: scale(0.0); } 
  100%  { transform: scale(.5);
    opacity: 0;
  }
}
*/

/*

//	=========================================================================
// Animated transition when image is loaded (for bLazy.js)
// ========================================================================= 

.b-lazy {
-webkit-transition: opacity 200ms ease-in-out;
-moz-transition: opacity 200ms ease-in-out;
-o-transition: opacity 200ms ease-in-out;
transition: opacity 200ms ease-in-out;
opacity: 0;
}
.b-lazy.b-loaded {
opacity: 1;
}


//	=========================================================================
// Mouseover & mouseleave-behaviour for images within a.popup
// ========================================================================= 

.popup .b-lazy.b-loaded {
transition: none;
opacity:1.0;
}

.popup:hover .b-lazy.b-loaded {
opacity:0.9;
}


.popup:hover:before {
position:absolute;
border: 1px solid #f3c;
float:none;
z-index:10000;
color: #000;
text-shadow:none;
font-size: 120px;
font-family: 'gd-fontregular';
speak: none;
font-style: normal;
font-weight: normal;
font-variant: normal;
text-transform: none;
line-height: 1;
content: "\6f";
opacity: 0.67
}


// seems to need too much performance :(
.popup .b-lazy.b-loaded {
-webkit-animation: zoom-out 0.1s ease-out forwards;
animation: zoom-out 0.1s ease-out forwards;    
}

@-webkit-keyframes zoom-out {
0%    { -webkit-transform: scale(1.03); } 
100%  { -webkit-transform: scale(1.0);  }
}

@keyframes zoom-out {
0%    { transform: scale(1.03); } 
100%  { transform: scale(1.0);  }
}


.popup .b-lazy.b-loaded:hover  {
-webkit-animation: zoom-in 0.1s ease-out forwards;
animation: zoom-in 0.1s ease-out forwards;  
}

@-webkit-keyframes zoom-in {
from  { -webkit-transform: scale(1.0);  } 
to    { -webkit-transform: scale(1.03); }
}

@keyframes zoom-in {
from  { transform: scale(1.0);  } 
to    { transform: scale(1.03); }
}

*/